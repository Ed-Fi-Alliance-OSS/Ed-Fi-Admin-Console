# SPDX-License-Identifier: Apache-2.0
# Licensed to the Ed-Fi Alliance under one or more agreements.
# The Ed-Fi Alliance licenses this file to you under the Apache License, Version 2.0.
# See the LICENSE and NOTICES files in the project root for more information.

name: Admin Console E2E Tests

on:
    push:
      branches: [main]
    workflow_dispatch:
    pull_request:
      branches: [main]

env:
  buildConfiguration: 'Release'
  DOCKER_BUILDKIT: 1
  PLAYWRIGHT_SKIP_BROWSER_DOWNLOAD: 1

permissions: read-all

jobs:
  run-e2e-tests:
    runs-on: ubuntu-latest
    steps:
      - name: DockerBuild
      - name: Install Dependencies
      - name: Run Admin Console
      - name: Execute Playwright test
      - name: Generate Upload Playwright report

  docker-image:
    runs-on: ubuntu-latest
    steps:
      - name: DockerLogin
      - name: Push Docker Image
      - name: DokcerLogout          
